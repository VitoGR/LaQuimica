<!DOCTYPE html>
<html xmlns:th="http://www.thtmeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!--Head-->

<head th:fragment="head">

	<meta charset="UTF-8">

	<!--Titulo-->
	<title th:text="'Spring-boot: MVC + thymeleaf + Data JPA - ' + ${titulo}"></title>

	<!--CSS-->
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
	<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}" />

</head>

<body>

	<header th:fragment="header">

		<nav class="navbar navbar-expand-lg bg-body-tertiary">
			<div class="container-fluid">
				<a th:href="@{/}" class="navbar-brand">La Química!</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
					data-bs-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarTogglerDemo02">
					<form th:action="@{/search}" class="d-flex mx-auto" role="search" method="post">
					<input class="form-control me-2" type="search" placeholder="Buscar un producto" name="nombre"
						aria-label="Search">
					<button class="btn btn-outline-success" type="submit">Buscar!</button>
				</form>
					<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a sec:authorize="isAuthenticated" th:href="@{/getCart}"
								class="btn btn-outline-secondary mx-2">Carrito</a>
						</li>
						<li class="nav-item">
							<a sec:authorize="isAuthenticated" th:href="@{/usuario/compras}"
								class="btn btn-outline-warning mx-2">Compras</a>
						</li>
						<li class="nav-item">
							<a sec:authorize="!isAuthenticated" th:href="@{/usuario/login}"
								class="btn btn-outline-primary mx-2">Ingresar</a>
						</li>
						<li class="nav-item">
							<div class="dropdown dropstart" sec:authorize="isAuthenticated">
								<button class="btn btn-danger dropdown-toggle" type="button" data-bs-toggle="dropdown"
									aria-expanded="false" sec:authentication="name">
								</button>
								<ul class="dropdown-menu">
									<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item"
											th:href="@{/productos/create}">Crear Producto</a></li>
									<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item"
											th:href="@{/administrador/usuarios}">Lista de clientes</a></li>
									<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item"
											th:href="@{/productos}">Lista
											de productos</a></li>
									<li>
										<hr class="dropdown-divider">
									</li>
									<li>
										<form id="logoutForm" th:action="@{/logout}" method="post">
											<a class="dropdown-item"
												onclick="document.getElementById('logoutForm').submit()"
												type="submit">Salir</a>
										</form>
									</li>
								</ul>
							</div>

						</liclass="nav-item">
					</ul>
				</div>
			</div>
		</nav>

		<div class="alert alert-success" th:if="${success != null}" th:text="${success}"></div>
		<div class="alert alert-danger" th:if="${error != null}" th:text="${error}"></div>
		<div class="alert alert-warning" th:if="${warning != null}" th:text="${warning}"></div>
		<div class="alert alert-info" th:if="${info != null}" th:text="${info}"></div>

	</header>





	<!--Cuerpo-->
	<div class="container">

	</div>



	<!--
	
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container-fluid">
				<a th:href="@{/}" class="navbar-brand">La Química!</a>

				<form th:action="@{/search}" class="d-flex" role="search" method="post">
					<input class="form-control me-2" type="search" placeholder="Buscar un producto" name="nombre"
						aria-label="Search">
					<button class="btn btn-outline-success" type="submit">Buscar!</button>
				</form>
				<div class="float-end">
					<a sec:authorize="isAuthenticated" th:href="@{/getCart}" class="btn btn-outline-secondary mx-2">Carrito</a>
					<a sec:authorize="isAuthenticated" th:href="@{/usuario/compras}" class="btn btn-outline-warning mx-2">Compras</a>
					<a sec:authorize="!isAuthenticated" th:href="@{/usuario/login}"
						class="btn btn-outline-primary mx-2">LogIn!</a>
				</div>
			</div>
			<div class="dropdown-center" sec:authorize="isAuthenticated">
				<button class="btn btn-danger dropdown-toggle" type="button" data-bs-toggle="dropdown"
					aria-expanded="false" sec:authentication="name">
				</button>
				<ul class="dropdown-menu">
					<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item"
							th:href="@{/productos/create}">Crear Producto</a></li>
					<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item"
							th:href="@{/administrador/usuarios}">Lista de clientes</a></li>
					<li><a sec:authorize="hasRole('ROLE_ADMIN')" class="dropdown-item" th:href="@{/productos}">Lista
							de productos</a></li>
					<li>
						<hr class="dropdown-divider">
					</li>
					<li>
						<form id="logoutForm" th:action="@{/logout}" method="post">
							<a class="dropdown-item" onclick="document.getElementById('logoutForm').submit()" type="submit">LogOut!</a>
						</form>
					</li>
				</ul>
			</div>


		</nav>
	
	-->





</body>

<!--Footer-->
<footer th:fragment="footer" class="container">

	<!--imagen-->
	<img th:src="@{/image/spring.png}" alt="Spring logo">

	<p sec:authorize="isAuthenticated()">
		Usuario logueado: [<span sec:authentication="name"></span>] | Roles: <span
			sec:authentication="principal.authorities"></span>
	</p>

	<p>
		Este proyecto fue desarrollado en IDE Eclipse + Spring Plugins (STS Spring
		Tool), Analista VitoCode<br /> &COPY; Company 2023
	</p>



	<!--popper-->
	<script th:src="@{/js/popper.min.js}"></script>

	<!--bootstrap-->
	<script th:src="@{/js/bootstrap.min.js}"></script>

	<!--jquery-->
	<script th:src="@{/js/jquery-3.7.1.min.js}"></script>

	<!--jquery-ui-->
	<script th:src="@{/js/jquery-ui.min.js}"></script>




</footer>

</html>